<%- include('../partials/headers', { title: "View Class Type" }) %>
<%- include('../partials/sidebar', { title: "Class Types" }) %>

<div class="content-wrapper">
  <!-- Page Header -->
  <section class="content-header">
    <div class="container-fluid">
      <div class="row mb-2 align-items-center">
        <div class="col-sm-6">
          <h1 class="m-0">Class Type Details</h1>
        </div>
        <div class="col-sm-6 text-end">
          <a href="/admin/class-type/list" class="btn btn-secondary btn-sm">
            <i class="bi bi-arrow-left"></i> Back to List
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Error Messages -->
  <% if (errors && errors.length > 0) { %>
    <div class="alert alert-danger mx-3">
      <ul class="mb-0">
        <% errors.forEach(err => { %>
          <li><%= err %></li>
        <% }) %>
      </ul>
    </div>
  <% } %>

  <!-- Class Type Details -->
  <section class="content">
    <div class="container-fluid">
      <% if (classType) { %>
        <div class="card card-outline card-primary shadow-sm">
          <div class="card-header">
            <h3 class="card-title"><%= classType.name %></h3>
          </div>

          <div class="card-body row g-4">

            <!-- Image Section -->
            <div class="col-md-4 text-center">
              <% if (classType.image) { %>
                <img src="<%= classType.image %>" alt="Class Type Image"
                     class="img-fluid rounded shadow-sm border"
                     style="max-width: 250px;">
              <% } else { %>
                <img src="/images/default-avatar.png" alt="No Image"
                     class="img-fluid rounded shadow-sm border"
                     style="max-width: 250px;">
              <% } %>
            </div>

            <!-- Details Section -->
            <div class="col-md-8">
              <table class="table table-striped table-bordered">
                <tbody>
                  <tr>
                    <th style="width: 30%;">Name</th>
                    <td><%= classType.name %></td>
                  </tr>
                  <tr>
                    <th>Description</th>
                    <td><%= classType.description || '-' %></td>
                  </tr>
                  <tr>
                    <th>Duration</th>
                    <td><%= classType.duration_minutes %> minutes</td>
                  </tr>
                  <tr>
                    <th>Status</th>
                    <td>
                      <% if (classType.is_active) { %>
                        <span class="badge bg-success">Active</span>
                      <% } else { %>
                        <span class="badge bg-secondary">Inactive</span>
                      <% } %>
                    </td>
                  </tr>
                  <tr>
                    <th>Created At</th>
                    <td><%= new Date(classType.createdAt).toLocaleString() %></td>
                  </tr>
                  <tr>
                    <th>Updated At</th>
                    <td><%= new Date(classType.updatedAt).toLocaleString() %></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>

          <div class="card-footer text-end">
            <a href="/admin/class-type/edit/<%= classType.id %>" class="btn btn-warning me-2">
              <i class="bi bi-pencil-square"></i> Edit
            </a>
            <a href="/admin/class-type/delete/<%= classType.id %>" class="btn btn-danger">
              <i class="bi bi-trash"></i> Delete
            </a>
          </div>
        </div>
      <% } else { %>
        <div class="alert alert-warning text-center mt-4">
          <strong>No class type found!</strong>
        </div>
      <% } %>
    </div>
  </section>
</div>

<%- include('../partials/footer') %>
